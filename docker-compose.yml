version: "3.7"

services:
  gollum:
    build:
      context: .
    environment:
      - GITHUB_KEY=${GITHUB_KEY}
      - GITHUB_SECRET=${GITHUB_SECRET}
      - OMNIGOLLUM_AUTHORIZED_USERS=${OMNIGOLLUM_AUTHORIZED_USERS}
    restart: always
    networks:
      - reverse-proxy
    expose:
      - 4567

networks:
  reverse-proxy:
    name: nginx_default
    external: true
